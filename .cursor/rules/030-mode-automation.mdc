---
description: Automatic mode selection based on prompt analysis
globs: 
alwaysApply: true
---

# Mode Automation Rules

## Automatic Mode Selection

Analyze user prompts and automatically suggest the most appropriate specialist mode:

### ğŸ—ï¸ iOS Architect Mode (âŒ˜â‡§A)
**Trigger Keywords:**
- architecture, design, pattern, MVVM, MVC, VIPER
- system design, component architecture, module design
- scalability, maintainability, coupling, cohesion
- technical decision, architecture review
- "how should I structure", "what's the best way to organize"
- dependency injection, service layer, data flow

**Example Prompts:**
- "How should I structure my iOS app?"
- "What architecture pattern should I use?"
- "How to organize my SwiftUI project?"
- "Design a scalable iOS architecture"

### ğŸ’» iOS Coder Mode (âŒ˜â‡§C)
**Trigger Keywords:**
- implement, create, write code, build, develop
- SwiftUI, UIKit, Swift, function, class, struct
- bug fix, debug, error, issue, problem
- "write a", "create a", "implement a", "build a"
- API integration, networking, data parsing
- specific coding tasks and implementations

**Example Prompts:**
- "Write a SwiftUI view for user profile"
- "Implement user authentication"
- "Create a custom button component"
- "Fix this SwiftUI layout issue"

### ğŸ¨ UI Designer Mode (âŒ˜â‡§D)
**Trigger Keywords:**
- UI, UX, design, layout, interface, visual
- color, typography, spacing, animation, transition
- user experience, user interface, accessibility
- "how should it look", "design for", "make it beautiful"
- responsive, adaptive, dark mode, light mode
- icons, images, graphics, styling

**Example Prompts:**
- "Design a login screen"
- "How should the user interface look?"
- "Create a beautiful card component"
- "Improve the visual design"

### ğŸ“‹ Project Planner Mode (âŒ˜â‡§P)
**Trigger Keywords:**
- plan, planning, roadmap, timeline, milestone
- feature, requirement, specification, scope
- project, task, workflow, process, methodology
- "what should I build", "how to start", "planning phase"
- estimation, resources, dependencies, priorities
- MVP, phases, iterations, sprints

**Example Prompts:**
- "Help me plan my iOS app development"
- "What features should I include?"
- "Create a development roadmap"
- "How to prioritize app features?"

### ğŸ“Š Code Analyst Mode (âŒ˜â‡§L)
**Trigger Keywords:**
- analyze, review, check, audit, optimize
- performance, memory, efficiency, best practices
- code quality, refactor, improvement, optimization
- "review my code", "analyze this", "is this good?"
- security, vulnerability, code smell, technical debt
- testing, coverage, quality assurance

**Example Prompts:**
- "Review my SwiftUI code"
- "Analyze app performance"
- "Check for security issues"
- "Optimize this implementation"

## Mode Selection Logic

### Primary Analysis
1. **Identify the main intent** of the user's prompt
2. **Extract key action words** (implement, design, plan, analyze, etc.)
3. **Determine the focus area** (architecture, coding, UI, planning, review)
4. **Consider context** from previous messages and current project state

### Secondary Factors
- **File types** currently open (Swift files â†’ Coder, Storyboards â†’ Designer)
- **Project phase** (early stage â†’ Planner, development â†’ Coder)
- **Complexity level** (high-level â†’ Architect, specific â†’ Coder)

### Automatic Suggestions

When analyzing a prompt, provide mode suggestions like:

```
ğŸ¤– **Ã–nerilen Mode:** iOS Coder Mode (âŒ˜â‡§C)
ğŸ“‹ **Sebep:** SwiftUI view implementation isteÄŸi tespit edildi
ğŸ”„ **Alternatif:** UI Designer Mode (âŒ˜â‡§D) tasarÄ±m odaklÄ± yaklaÅŸÄ±m iÃ§in
```

### Multi-Mode Workflows

For complex requests that span multiple areas, suggest a workflow:

```
ğŸ”„ **Ã–nerilen Workflow:**
1. ğŸ—ï¸ Architect Mode - Sistem tasarÄ±mÄ± iÃ§in
2. ğŸ¨ Designer Mode - UI/UX tasarÄ±mÄ± iÃ§in  
3. ğŸ’» Coder Mode - Implementation iÃ§in
4. ğŸ“Š Analyst Mode - Code review iÃ§in
```

## Context-Aware Suggestions

### Based on Current Files
- **Models/*.swift** â†’ Suggest Architect or Coder mode
- **Views/*.swift** â†’ Suggest Designer or Coder mode
- **Services/*.swift** â†’ Suggest Architect or Coder mode
- **README.md** â†’ Suggest Planner mode

### Based on Project Stage
- **New Project** â†’ Planner â†’ Architect â†’ Designer â†’ Coder
- **Active Development** â†’ Coder â†’ Designer â†’ Analyst
- **Optimization Phase** â†’ Analyst â†’ Architect â†’ Coder
- **Release Preparation** â†’ Analyst â†’ Planner

### Based on Error Context
- **Build Errors** â†’ Coder Mode
- **UI Issues** â†’ Designer Mode
- **Architecture Problems** â†’ Architect Mode
- **Performance Issues** â†’ Analyst Mode

## MCP Integration Triggers

### Supabase MCP Activation
**Trigger Keywords:**
- database, backend, API, server, authentication
- Supabase, PostgreSQL, realtime, storage
- user management, data persistence, sync
- "connect to database", "backend integration", "user auth"

**Auto-Activate When:**
- Project contains SupabaseService.swift
- Prompt mentions database operations
- Authentication-related requests
- Real-time features requested

### GitHub MCP Activation
**Trigger Keywords:**
- repository, commit, push, pull request, branch
- version control, git, collaboration, code review
- "create repo", "push code", "open PR"

**Auto-Activate When:**
- Git-related operations requested
- Repository management needed
- Code sharing or collaboration mentioned

## Implementation Examples

### Mode Detection Function
```swift
func detectOptimalMode(from prompt: String, context: ProjectContext) -> RecommendedMode {
    let keywords = extractKeywords(from: prompt)
    let intent = analyzeIntent(keywords)
    let projectContext = analyzeProjectContext(context)
    
    switch (intent, projectContext) {
    case (.implementation, .activeDevelopment):
        return .iosCoder
    case (.design, _):
        return .uiDesigner
    case (.architecture, .newProject), (.architecture, .refactoring):
        return .iosArchitect
    case (.planning, .newProject):
        return .projectPlanner
    case (.analysis, _):
        return .codeAnalyst
    default:
        return .iosCoder // Default fallback
    }
}
```

### Auto-Suggestion Display
```
ğŸ¯ **Otomatik Mode SeÃ§imi Aktif**

Prompt analizi: "Create a user authentication system"
â”œâ”€â”€ ğŸ” Tespit edilen: authentication, system, create
â”œâ”€â”€ ğŸ¯ Ã–nerilen: iOS Architect Mode (âŒ˜â‡§A)
â”œâ”€â”€ ğŸ“‹ Sebep: Sistem tasarÄ±mÄ± ve architecture kararlarÄ± gerekli
â”œâ”€â”€ ğŸ”„ Workflow: Architect â†’ Coder â†’ Analyst
â””â”€â”€ ğŸ”Œ MCP: Supabase MCP otomatik aktifleÅŸtirilecek

Devam etmek iÃ§in âŒ˜â‡§A tuÅŸlarÄ±na basÄ±n veya farklÄ± bir mode seÃ§in.
```

## Error Prevention

### Common Mistakes to Avoid
- Don't suggest Designer mode for backend tasks
- Don't suggest Coder mode for high-level planning
- Don't suggest Analyst mode for new implementations
- Don't mix modes inappropriately

### Validation Checks
- Ensure mode matches the task complexity
- Verify mode capabilities align with request
- Check if required tools are available in suggested mode
- Confirm mode expertise matches the domain